import{j as e,a as p,p as j,q as y,r as b}from"./ui-BvQeeWjB.js";import{g as N,e as w,r as C}from"./vendor-C2v42iKu.js";import{u as k}from"./useCategories-Cn9gT5pe.js";import{a as v}from"./index-z9EIHczJ.js";import{u as T}from"./useTransactions-ByQLS2az.js";import{C as D}from"./ConfirmationModal-B2cJ41LW.js";import"./Button-RIE1BFT8.js";const I=()=>{const{id:i}=N(),n=w(),{transactions:o,loading:c,deleteTransaction:l}=T(),{categories:d,loading:r}=k(),{openModal:m}=v(),[x,a]=C.useState(!1),s=o.find(t=>t.id===i)||null,u=t=>r?"Loading...":d.find(g=>g.id===t)?.name||"Uncategorized",h=async()=>{s&&(await l(s.id),n("/dashboard"),a(!1))};if(c||r)return e.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center",children:e.jsx(p,{size:32,className:"animate-spin text-brand-green"})});if(!s)return e.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center",children:e.jsx("p",{children:"Transaction not found."})});const f=s.type==="income"?"text-brand-green":"text-brand-red";return e.jsxs("div",{className:"min-h-screen bg-dark-primary text-white p-4 sm:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>n(-1),className:"p-2 rounded-full bg-dark-secondary",children:e.jsx(j,{size:24,className:"text-gray-400"})}),e.jsx("h1",{className:"text-xl font-bold",children:"Transaction Receipt"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s&&m("editTransaction",s),className:"p-2 rounded-full bg-dark-secondary",children:e.jsx(y,{size:24,className:"text-gray-400"})}),e.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-full bg-dark-secondary",children:e.jsx(b,{size:24,className:"text-gray-400"})})]})]}),e.jsxs("div",{className:"bg-dark-secondary rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"text-center border-b border-dashed border-gray-700 pb-6 mb-6",children:[e.jsx("p",{className:"text-gray-400 text-sm capitalize",children:s.type}),e.jsxs("p",{className:`text-5xl font-bold my-2 ${f}`,children:["â‚¹",new Intl.NumberFormat("en-IN").format(Math.abs(s.amount))]}),e.jsx("h2",{className:"text-2xl font-semibold",children:s.description}),e.jsx("p",{className:"text-gray-500",children:new Date(s.transaction_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"space-y-4 text-sm mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Category"}),e.jsx("span",{className:"font-medium text-white",children:u(s.category_id)})]}),s.notes&&e.jsxs("div",{className:"flex justify-between text-right",children:[e.jsx("span",{className:"text-gray-500 flex-shrink-0 mr-4",children:"Notes"}),e.jsx("span",{className:"font-medium text-white",children:s.notes})]})]})]}),e.jsx(D,{isOpen:x,onClose:()=>a(!1),onConfirm:h,title:"Delete Transaction",message:"Are you sure you want to delete this transaction? This action cannot be undone."})]})};export{I as default};
