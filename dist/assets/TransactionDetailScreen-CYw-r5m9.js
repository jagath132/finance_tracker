import{j as e,a as j,p as y,q as b,r as N}from"./ui-9V2nKd88.js";import{i as w,f as C,r as k}from"./vendor-BLIq4JPC.js";import{u as v}from"./useCategories-ITDpBBlg.js";import{a as T}from"./index-B5lVPReX.js";import{u as D}from"./useTransactions-BKq-WBsM.js";import{C as z}from"./ConfirmationModal-BQzURq6n.js";import"./supabase-GK0Ohaqy.js";import"./Button-fgWSp_I2.js";const R=()=>{const{id:o}=w(),n=C(),{transactions:c,loading:l,deleteTransaction:d}=D(),{categories:m,loading:r}=v(),{openModal:x}=T(),[u,a]=k.useState(!1),s=c.find(t=>t.id===o)||null,h=t=>{var i;return r?"Loading...":((i=m.find(g=>g.id===t))==null?void 0:i.name)||"Uncategorized"},f=async()=>{s&&(await d(s.id),n("/dashboard"),a(!1))};if(l||r)return e.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center",children:e.jsx(j,{size:32,className:"animate-spin text-brand-green"})});if(!s)return e.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center",children:e.jsx("p",{children:"Transaction not found."})});const p=s.type==="income"?"text-brand-green":"text-brand-red";return e.jsxs("div",{className:"min-h-screen bg-dark-primary text-white p-4 sm:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>n(-1),className:"p-2 rounded-full bg-dark-secondary",children:e.jsx(y,{size:24,className:"text-gray-400"})}),e.jsx("h1",{className:"text-xl font-bold",children:"Transaction Receipt"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s&&x("editTransaction",s),className:"p-2 rounded-full bg-dark-secondary",children:e.jsx(b,{size:24,className:"text-gray-400"})}),e.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-full bg-dark-secondary",children:e.jsx(N,{size:24,className:"text-gray-400"})})]})]}),e.jsxs("div",{className:"bg-dark-secondary rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"text-center border-b border-dashed border-gray-700 pb-6 mb-6",children:[e.jsx("p",{className:"text-gray-400 text-sm capitalize",children:s.type}),e.jsxs("p",{className:`text-5xl font-bold my-2 ${p}`,children:["â‚¹",new Intl.NumberFormat("en-IN").format(Math.abs(s.amount))]}),e.jsx("h2",{className:"text-2xl font-semibold",children:s.description}),e.jsx("p",{className:"text-gray-500",children:new Date(s.transaction_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"space-y-4 text-sm mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Category"}),e.jsx("span",{className:"font-medium text-white",children:h(s.category_id)})]}),s.notes&&e.jsxs("div",{className:"flex justify-between text-right",children:[e.jsx("span",{className:"text-gray-500 flex-shrink-0 mr-4",children:"Notes"}),e.jsx("span",{className:"font-medium text-white",children:s.notes})]})]})]}),e.jsx(z,{isOpen:u,onClose:()=>a(!1),onConfirm:f,title:"Delete Transaction",message:"Are you sure you want to delete this transaction? This action cannot be undone."})]})};export{R as default};
