import{j as e,p as j,m as v,z as i}from"./ui-_IaUIWm1.js";import{e as P,r as a}from"./vendor-CeoOk9QE.js";import{u as N}from"./index-Ita0Wmma.js";import{I as t}from"./Input-x5ILlF1Y.js";import{B as C}from"./Button-BYbGGxhE.js";const I=()=>{const p=P(),{user:r}=N(),[h,d]=a.useState(""),[x,o]=a.useState(!1),[w,c]=a.useState(""),[n,u]=a.useState(""),[m,f]=a.useState("");a.useEffect(()=>{r?.full_name&&d(r.full_name)},[r]);const g=s=>s.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(s)?/[a-z]/.test(s)?/\d/.test(s)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",b=async s=>{s.preventDefault(),o(!0);try{if(await new Promise(l=>setTimeout(l,1e3)),n){if(n!==m){i.error("New passwords do not match"),o(!1);return}const l=g(n);if(l){i.error(l),o(!1);return}await new Promise(y=>setTimeout(y,500))}c(""),u(""),f(""),i.success("Profile updated successfully!")}catch{i.error("An unexpected error occurred")}o(!1)};return e.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 pb-20",children:[e.jsxs("header",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>p(-1),className:"p-2 rounded-full bg-light-secondary dark:bg-dark-secondary hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(j,{size:24,className:"text-light-text-secondary dark:text-dark-text-secondary"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Profile"}),e.jsx("div",{className:"w-10"})]}),e.jsx(v.div,{className:"bg-light-secondary dark:bg-dark-secondary rounded-lg p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Personal Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(t,{label:"Full Name",type:"text",value:h,onChange:s=>d(s.target.value),placeholder:"Your full name"}),e.jsx(t,{label:"Email",type:"email",value:r?.email||"",disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(t,{label:"Current Password",type:"password",value:w,onChange:s=>c(s.target.value),placeholder:"Enter current password"}),e.jsx(t,{label:"New Password",type:"password",value:n,onChange:s=>u(s.target.value),placeholder:"Enter new password"}),e.jsx(t,{label:"Confirm New Password",type:"password",value:m,onChange:s=>f(s.target.value),placeholder:"Confirm new password"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{type:"submit",isLoading:x,children:"Save Changes"})})]})})]})};export{I as default};
