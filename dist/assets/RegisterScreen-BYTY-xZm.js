import{j as e,m as w,c as N,U as v,M as k,d as x,z as m}from"./ui-9V2nKd88.js";import{f as S,r,L as C}from"./vendor-BLIq4JPC.js";import{I as i}from"./Input-CtsDJYbs.js";import{B as z}from"./Button-fgWSp_I2.js";import{s as L}from"./index-B5lVPReX.js";import"./supabase-GK0Ohaqy.js";const P=({strength:n})=>{if(!n)return null;const o=[{id:"weak",color:"bg-red-500",label:"Weak"},{id:"medium",color:"bg-yellow-500",label:"Medium"},{id:"strong",color:"bg-green-500",label:"Strong"}],c=o.findIndex(t=>t.id===n);return e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("div",{className:"flex-grow grid grid-cols-3 gap-2",children:o.map((t,d)=>e.jsx("div",{className:`h-1 rounded-full transition-colors ${d<=c?t.color:"bg-gray-600"}`},t.id))}),e.jsx("span",{className:"text-sm text-gray-400 w-16 text-right capitalize",children:n})]})},A=()=>{const n=S(),[o,c]=r.useState(""),[t,d]=r.useState(""),[s,h]=r.useState(""),[u,p]=r.useState(""),[f,g]=r.useState(!1),y=r.useMemo(()=>{if(s.length===0)return"";if(s.length<6)return"weak";const a=/\d/.test(s),l=/[A-Z]/.test(s),b=/[a-z]/.test(s);return s.length>=8&&a&&l&&b?"strong":s.length>=6?"medium":"weak"},[s]),j=async a=>{if(a.preventDefault(),s!==u){m.error("Passwords don't match!");return}g(!0);const{error:l}=await L.auth.signUp({email:t,password:s,options:{data:{full_name:o},emailRedirectTo:`${window.location.origin}/dashboard`}});g(!1),l?m.error(l.message):(m.success("Registration successful! Please check your email to verify your account."),n("/login"))};return e.jsx("div",{className:"min-h-screen bg-dark-primary flex flex-col justify-center items-center p-4 sm:p-6",children:e.jsxs(w.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-dark-secondary p-4 rounded-full inline-block mb-4",children:e.jsx(N,{className:"text-brand-green",size:40,strokeWidth:1.5})}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Create Account"}),e.jsx("p",{className:"text-gray-400",children:"Join Cointrail to manage your finances."})]}),e.jsxs("form",{onSubmit:j,className:"bg-dark-secondary p-8 rounded-2xl shadow-lg",children:[e.jsx(i,{label:"Full Name",type:"text",value:o,onChange:a=>c(a.target.value),placeholder:"John Doe",icon:e.jsx(v,{size:20,className:"text-gray-500"}),required:!0}),e.jsx(i,{label:"Email",type:"email",value:t,onChange:a=>d(a.target.value),placeholder:"you@example.com",icon:e.jsx(k,{size:20,className:"text-gray-500"}),required:!0}),e.jsx(i,{label:"Password",type:"password",value:s,onChange:a=>h(a.target.value),placeholder:"••••••••",icon:e.jsx(x,{size:20,className:"text-gray-500"}),required:!0}),e.jsx(P,{strength:y}),e.jsx("div",{className:"mt-4",children:e.jsx(i,{label:"Confirm Password",type:"password",value:u,onChange:a=>p(a.target.value),placeholder:"••••••••",icon:e.jsx(x,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx("div",{className:"mt-6",children:e.jsx(z,{type:"submit",isLoading:f,children:"Sign Up"})})]}),e.jsxs("p",{className:"text-center mt-8 text-gray-400",children:["Already have an account?"," ",e.jsx(C,{to:"/login",className:"font-semibold text-brand-green hover:underline",children:"Login"})]})]})})};export{A as default};
