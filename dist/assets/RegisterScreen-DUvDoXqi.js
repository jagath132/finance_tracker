import{j as e,m as s,C as k,U as C,M as S,c as y,z as c}from"./ui-_IaUIWm1.js";import{e as P,r as o,L as z}from"./vendor-CeoOk9QE.js";import{I as x}from"./Input-x5ILlF1Y.js";import{B as L}from"./Button-BYbGGxhE.js";import{u as R}from"./index-Da4dX3Ws.js";const q=({strength:r})=>{if(!r)return null;const d=[{id:"weak",color:"bg-red-500",label:"Weak"},{id:"medium",color:"bg-yellow-500",label:"Medium"},{id:"strong",color:"bg-green-500",label:"Strong"}],m=d.findIndex(i=>i.id===r);return e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("div",{className:"flex-grow grid grid-cols-3 gap-2",children:d.map((i,u)=>e.jsx("div",{className:`h-1 rounded-full transition-colors ${u<=m?i.color:"bg-gray-600"}`},i.id))}),e.jsx("span",{className:"text-sm text-gray-400 w-16 text-right capitalize",children:r})]})},I={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},B=()=>{const r=P(),{register:d}=R(),[m,i]=o.useState(""),[u,p]=o.useState(""),[a,f]=o.useState(""),[g,v]=o.useState(""),[j,h]=o.useState(!1),b=o.useMemo(()=>{if(a.length===0)return"";if(a.length<6)return"weak";const t=/\d/.test(a),n=/[A-Z]/.test(a),w=/[a-z]/.test(a);return a.length>=8&&t&&n&&w?"strong":a.length>=6?"medium":"weak"},[a]),N=async t=>{if(t.preventDefault(),a!==g){c.error("Passwords don't match!");return}h(!0);try{const n=await d(m,u,a);n.success?n.requiresConfirmation?(c.success("Registration successful! Please check your email to confirm your account."),r("/email-confirmation")):(c.success("Registration successful! Welcome to Cointrail."),r("/dashboard")):c.error(n.error||"Registration failed. Please try again.")}catch{c.error("Registration failed. Please try again.")}h(!1)};return e.jsx("div",{className:"min-h-screen bg-light-primary dark:bg-dark-primary flex flex-col justify-center items-center p-4 sm:p-6",children:e.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(s.div,{className:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-full inline-block mb-4",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,delay:.2},children:e.jsx(k,{className:"text-brand-green",size:40,strokeWidth:1.5})}),e.jsx(s.h1,{className:"text-3xl font-bold text-light-text dark:text-dark-text",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"Create Account"}),e.jsx(s.p,{className:"text-light-text-secondary dark:text-dark-text-secondary",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:"Join Cointrail to manage your finances."})]}),e.jsxs(s.form,{onSubmit:N,className:"bg-light-secondary dark:bg-dark-secondary p-6 sm:p-8 rounded-2xl shadow-lg",variants:I,initial:"hidden",animate:"visible",children:[e.jsx(s.div,{variants:l,children:e.jsx(x,{label:"Full Name",type:"text",value:m,onChange:t=>i(t.target.value),placeholder:"John Doe",icon:e.jsx(C,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx(s.div,{variants:l,children:e.jsx(x,{label:"Email",type:"email",value:u,onChange:t=>p(t.target.value),placeholder:"you@example.com",icon:e.jsx(S,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx(s.div,{variants:l,children:e.jsx(x,{label:"Password",type:"password",value:a,onChange:t=>f(t.target.value),placeholder:"••••••••",icon:e.jsx(y,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx(s.div,{variants:l,children:e.jsx(q,{strength:b})}),e.jsx(s.div,{className:"mt-4",variants:l,children:e.jsx(x,{label:"Confirm Password",type:"password",value:g,onChange:t=>v(t.target.value),placeholder:"••••••••",icon:e.jsx(y,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx(s.div,{className:"mt-6",variants:l,children:e.jsx(L,{type:"submit",isLoading:j,children:"Sign Up"})})]}),e.jsxs("p",{className:"text-center mt-8 text-light-text-secondary dark:text-dark-text-secondary",children:["Already have an account?"," ",e.jsx(z,{to:"/login",className:"font-semibold text-brand-green hover:underline",children:"Login"})]})]})})};export{B as default};
