import{j as e,U as l,u as r,v,w as N,x as w,R as z,k as C,d as T,y as D,m as R,E as A,e as S,H as I,I as M,J as E,z as t}from"./ui-CqB_xnuP.js";import{d as L,r as O,L as o}from"./vendor-UbVtIYU6.js";import{u as F,b as P}from"./index-BUU1lA4v.js";import{C as U}from"./ConfirmationModal-DPRuoGy3.js";import{u as _}from"./useTransactions-CxoIO0TM.js";import{u as V}from"./useCategories-CE2nb58C.js";import"./Button-Bj4TVVN4.js";const G=()=>{const{user:a,logout:d}=F(),c=L(),{theme:m,setTheme:x}=P(),{deleteAllTransactions:g,refetch:h}=_(),{deleteAllCategories:p,refetch:u}=V(),[b,i]=O.useState(!1),y=async()=>{await d(),t.success("Logged out successfully"),c("/login")},j=async()=>{const s=t.loading("Resetting data...");try{await g(),await p(),await h(),await u(),t.success("All your data has been reset.",{id:s})}catch(n){console.error("Error resetting data:",n),t.error("Failed to reset data. Please try again.",{id:s})}finally{i(!1)}},f={light:e.jsx(E,{size:20}),dark:e.jsx(M,{size:20}),system:e.jsx(I,{size:20})},k=[{title:"Dashboard",description:"Overview of your finances with charts and recent transactions.",color:"bg-blue-100 dark:bg-blue-900",icon:w},{title:"Transactions",description:"View, add, edit, and manage your financial transactions.",color:"bg-green-100 dark:bg-green-900",icon:z},{title:"Categories",description:"Organize your transactions into custom categories.",color:"bg-yellow-100 dark:bg-yellow-900",icon:C},{title:"Search",description:"Quickly find specific transactions.",color:"bg-purple-100 dark:bg-purple-900",icon:T},{title:"Import/Export",description:"Import transactions from CSV or export your data.",color:"bg-pink-100 dark:bg-pink-900",icon:D},{title:"Profile",description:"Manage your account information and password.",color:"bg-indigo-100 dark:bg-indigo-900",icon:l}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 pb-20",children:[e.jsx("header",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider mb-3",children:"Account"}),e.jsx("div",{className:"bg-light-secondary dark:bg-dark-secondary rounded-lg",children:e.jsxs(o,{to:"/profile",className:"flex items-center justify-between p-4 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-gray-300 dark:bg-gray-700 rounded-full mr-4",children:a?.avatar_url?e.jsx("img",{src:a.avatar_url,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):e.jsx(l,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:a?.full_name}),e.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:a?.email})]})]}),e.jsx(r,{size:20,className:"text-gray-500"})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider mb-3",children:"Display"}),e.jsxs("div",{className:"bg-light-secondary dark:bg-dark-secondary rounded-lg p-4",children:[e.jsx("label",{className:"text-sm",children:"Theme"}),e.jsx("div",{className:"flex justify-around items-center bg-light-primary dark:bg-dark-primary p-1 rounded-lg mt-2",children:["light","dark","system"].map(s=>e.jsxs("button",{onClick:()=>x(s),className:`w-full p-2 rounded-md flex justify-center items-center gap-2 capitalize text-sm transition-colors ${m===s?"bg-brand-green text-white":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f[s]," ",s]},s))})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider mb-3",children:"Data Management"}),e.jsxs("div",{className:"bg-light-secondary dark:bg-dark-secondary rounded-lg divide-y divide-light-border dark:divide-dark-border",children:[e.jsxs(o,{to:"/import",className:"flex items-center justify-between p-4 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{size:20,className:"mr-4"}),e.jsx("span",{children:"Import Transactions"})]}),e.jsx(r,{size:20,className:"text-gray-500"})]}),e.jsxs(o,{to:"/export",className:"flex items-center justify-between p-4 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{size:20,className:"mr-4"}),e.jsx("span",{children:"Export Data"})]}),e.jsx(r,{size:20,className:"text-gray-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider mb-3",children:"Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map((s,n)=>e.jsxs(R.div,{className:`${s.color} rounded-lg p-4 shadow-md border border-gray-200 dark:border-gray-700 hover:shadow-lg hover:scale-105 transition-all duration-300`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},children:[e.jsxs("h3",{className:"font-semibold flex items-center",children:[e.jsx(s.icon,{size:24,className:"mr-2"}),s.title]}),e.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:s.description})]},s.title))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-red-500 uppercase tracking-wider mb-3",children:"Danger Zone"}),e.jsx("div",{className:"bg-light-secondary dark:bg-dark-secondary rounded-lg",children:e.jsxs("button",{onClick:()=>i(!0),className:"w-full flex items-center justify-between p-4 hover:bg-red-900/20 transition-colors text-brand-red",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{size:20,className:"mr-4"}),e.jsx("span",{children:"Reset All Data"})]}),e.jsx(r,{size:20})]})})]}),e.jsx("div",{className:"bg-light-secondary dark:bg-dark-secondary rounded-lg",children:e.jsxs("button",{onClick:y,className:"w-full flex items-center p-4 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors text-brand-red",children:[e.jsx(S,{size:20,className:"mr-4"}),e.jsx("span",{children:"Logout"})]})})]})]}),e.jsx(U,{isOpen:b,onClose:()=>i(!1),onConfirm:j,title:"Reset All Data",message:"Are you absolutely sure? This will permanently delete all your transactions and categories. This action cannot be undone."})]})};export{G as default};
