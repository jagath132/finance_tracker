import{j as e,m as s,C as k,U as C,M as S,c as p,z as m}from"./ui-BvQeeWjB.js";import{e as z,r as i,L}from"./vendor-C2v42iKu.js";import{I as u}from"./Input-DcakV9XR.js";import{B as P}from"./Button-RIE1BFT8.js";import{u as I}from"./index-z9EIHczJ.js";const R=({strength:l})=>{if(!l)return null;const o=[{id:"weak",color:"bg-red-500",label:"Weak"},{id:"medium",color:"bg-yellow-500",label:"Medium"},{id:"strong",color:"bg-green-500",label:"Strong"}],c=o.findIndex(r=>r.id===l);return e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("div",{className:"flex-grow grid grid-cols-3 gap-2",children:o.map((r,d)=>e.jsx("div",{className:`h-1 rounded-full transition-colors ${d<=c?r.color:"bg-gray-600"}`},r.id))}),e.jsx("span",{className:"text-sm text-gray-400 w-16 text-right capitalize",children:l})]})},q={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},B=()=>{const l=z(),{register:o}=I(),[c,r]=i.useState(""),[d,y]=i.useState(""),[a,f]=i.useState(""),[g,v]=i.useState(""),[j,h]=i.useState(!1),b=i.useMemo(()=>{if(a.length===0)return"";if(a.length<6)return"weak";const t=/\d/.test(a),x=/[A-Z]/.test(a),w=/[a-z]/.test(a);return a.length>=8&&t&&x&&w?"strong":a.length>=6?"medium":"weak"},[a]),N=async t=>{if(t.preventDefault(),a!==g){m.error("Passwords don't match!");return}h(!0);try{await o(c,d,a)?(m.success("Registration successful! Welcome to Cointrail."),l("/dashboard")):m.error("Registration failed. Please try again.")}catch{m.error("Registration failed. Please try again.")}h(!1)};return e.jsx("div",{className:"min-h-screen bg-light-primary dark:bg-dark-primary flex flex-col justify-center items-center p-4 sm:p-6",children:e.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(s.div,{className:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-full inline-block mb-4",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,delay:.2},children:e.jsx(k,{className:"text-brand-green",size:40,strokeWidth:1.5})}),e.jsx(s.h1,{className:"text-3xl font-bold text-light-text dark:text-dark-text",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"Create Account"}),e.jsx(s.p,{className:"text-light-text-secondary dark:text-dark-text-secondary",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:"Join Cointrail to manage your finances."})]}),e.jsxs(s.form,{onSubmit:N,className:"bg-light-secondary dark:bg-dark-secondary p-6 sm:p-8 rounded-2xl shadow-lg",variants:q,initial:"hidden",animate:"visible",children:[e.jsx(s.div,{variants:n,children:e.jsx(u,{label:"Full Name",type:"text",value:c,onChange:t=>r(t.target.value),placeholder:"John Doe",icon:e.jsx(C,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx(s.div,{variants:n,children:e.jsx(u,{label:"Email",type:"email",value:d,onChange:t=>y(t.target.value),placeholder:"you@example.com",icon:e.jsx(S,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx(s.div,{variants:n,children:e.jsx(u,{label:"Password",type:"password",value:a,onChange:t=>f(t.target.value),placeholder:"••••••••",icon:e.jsx(p,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx(s.div,{variants:n,children:e.jsx(R,{strength:b})}),e.jsx(s.div,{className:"mt-4",variants:n,children:e.jsx(u,{label:"Confirm Password",type:"password",value:g,onChange:t=>v(t.target.value),placeholder:"••••••••",icon:e.jsx(p,{size:20,className:"text-gray-500"}),required:!0})}),e.jsx(s.div,{className:"mt-6",variants:n,children:e.jsx(P,{type:"submit",isLoading:j,children:"Sign Up"})})]}),e.jsxs("p",{className:"text-center mt-8 text-light-text-secondary dark:text-dark-text-secondary",children:["Already have an account?"," ",e.jsx(L,{to:"/login",className:"font-semibold text-brand-green hover:underline",children:"Login"})]})]})})};export{B as default};
