import{j as s,m as p,c as x,z as l}from"./ui-Dy4X14_K.js";import{f,r}from"./vendor-gOpYt1fm.js";import{I as w}from"./Input-DMfPfrQS.js";import{B as h}from"./Button-BdbUWFle.js";import{u as g,s as c}from"./index-CbbJHnKT.js";import"./supabase-RyWy78zx.js";const S=()=>{const e=f(),{session:a}=g(),[o,d]=r.useState(""),[m,i]=r.useState(!1);r.useEffect(()=>{a&&a.user.user_metadata.email&&e("/dashboard")},[a,e]);const u=async t=>{t.preventDefault(),i(!0);const{error:n}=await c.auth.updateUser({password:o});i(!1),n?l.error(n.message):(l.success("Password updated successfully! You can now log in."),await c.auth.signOut(),e("/login"))};return s.jsx("div",{className:"min-h-screen bg-dark-primary flex flex-col justify-center items-center p-4 sm:p-6",children:s.jsxs(p.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Set New Password"}),s.jsx("p",{className:"text-gray-400 mt-2",children:"Please enter your new password below."})]}),s.jsxs("form",{onSubmit:u,className:"bg-dark-secondary p-6 sm:p-8 rounded-2xl shadow-lg",children:[s.jsx(w,{label:"New Password",type:"password",value:o,onChange:t=>d(t.target.value),placeholder:"••••••••",icon:s.jsx(x,{size:20,className:"text-gray-500"}),required:!0}),s.jsx("div",{className:"mt-6",children:s.jsx(h,{type:"submit",isLoading:m,children:"Update Password"})})]})]})})};export{S as default};
